<!DOCTYPE html>
<html class="page" lang="eng">
<head>
 <meta charset="UTF-8">
 <title>Интерактивное программирование</title>
</head>
<body>
 <h1 id="heading">Привет, мир!</h1>
 <script src="https://code.jquery.com/jquery-2.1.0.js">
 </script>
 <script>
    /*
    var leftOffset = 0;
    var moveHeading = function () {
    $("#heading").offset({ left: leftOffset });
    leftOffset++;
    if (leftOffset > 200) {
        leftOffset = 0;
    }
    };
    setInterval(moveHeading, 15);
    */
    /*
    var clickHandler = function (event) {
    console.log("Клик! " + event.pageX + " " + event.pageY);
    };
    $("h1").click(clickHandler);
    */ 
   /*
    $("html").mousemove(function (event) {
        $("#heading").offset({
            left: event.pageX,
            top: event.pageY
        });
    });
    */
   /*
    $("html").click(function (event) {
        $("#heading").offset({
            left: event.pageX,
            top: event.pageY
        });
    });
    */
    var leftOffset = 0;
    var topOffset = 0;
    var rightOffset = 200;
    var bottomOffset = 200;
    var moveHeading = function () {
    $("#heading").offset({ left: leftOffset });
        if (leftOffset < 200) {
            leftOffset++;
        } else {
            $("#heading").offset({ top: topOffset });
            if (topOffset < 200) {
                topOffset++;
            } else {
                $("#heading").offset({ left: rightOffset });
                if (rightOffset > 0) {
                    rightOffset--;
                } else {
                    $("#heading").offset({ top: bottomOffset });
                    if (bottomOffset > 0) {
                        bottomOffset--;
                    } else {
                        leftOffset = 0;
                        topOffset = 0;
                        rightOffset = 200;
                        bottomOffset = 200;
                    }
                }
            }
        }

    };
    var intervalTime = 20;
    var intervalID = setInterval(moveHeading, intervalTime);
    var numberOfCliks = 0;
    var textHeadingWin = function () {
        $("#heading").text("You win!!!");
    }
    var textHeadingChange = function (number) {
        $("#heading").text("You click me " + number + " times");
    }
    $("#heading").click(function () {
        clearInterval(intervalID);
        numberOfCliks++;
        intervalTime *= 0.75;
        if (intervalTime > 0) {
            intervalID = setInterval(moveHeading, intervalTime);
            if (numberOfCliks < 10) {
                textHeadingChange(numberOfCliks);
            } else {
                clearInterval(intervalID);
                textHeadingWin();
            }
        }
    });
 </script>
</body>
</html>
